<Application
	xmlns="http://walks.ath.cx/framework"
	xmlns:x="http://walks.ath.cx/statics">

	<Resources>
		<FailureAction x:Key="restartServiceAction" RecoverAction="3" Delay="300" />
	</Resources>

	<WinServiceGroup x:Key="winServiceGroup" ServiceNamePrefix="Urbetrack.Express$" AutomaticInstall="true" AutomaticUpdate="true" AutomaticUninstall="true" Purge="false">


		<WinService x:Key="GatewayFulmar"      HostApplication="Applications\GatewayFulmar.xml"    ServiceName="GatewayFulmar"    DisplayName="0 - GatewayFulmar"    Description="Gateway para dispositivios Fulmar."              FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$GatewayFulmar 20 20"    StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="GatewayTrax"        HostApplication="Applications\GatewayTrax.xml"      ServiceName="GatewayTrax"      DisplayName="0 - GatewayTrax"      Description="Gateway para dispositivios Trax."                FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$GatewayTrax 20 20"      StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="GatewayUnexV1"      HostApplication="Applications\GatewayUnexV1.xml"    ServiceName="GatewayUnexV1"    DisplayName="0 - GatewayUnexV1"    Description="Gateway para dispositivios Unex (protocolo v1)." FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$GatewayUnexV1 20 20"    StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="GatewayUnexV2"      HostApplication="Applications\GatewayUnexV2.xml"    ServiceName="GatewayUnexV2"    DisplayName="0 - GatewayUnexV2"    Description="Gateway para dispositivios Unex (protocolo v2)." FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$GatewayUnexV2 20 20"    StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="DispatcherFulmar"   HostApplication="Applications\DispatcherFulmar.xml" ServiceName="DispatcherFulmar" DisplayName="1 - DispatcherFulmar" Description="Dispatcher para Fulmar."                         FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$DispatcherFulmar 20 20" StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="DispatcherTrax"     HostApplication="Applications\DispatcherTrax.xml"   ServiceName="DispatcherTrax"   DisplayName="1 - DispatcherTrax"   Description="Dispatcher para Trax."                           FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$DispatcherTrax 20 20"   StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="DispatcherUnexV1"   HostApplication="Applications\DispatcherUnexV1.xml" ServiceName="DispatcherUnexV1" DisplayName="1 - DispatcherUnexV1" Description="Dispatcher para UnexV1."                         FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$DispatcherUnexV1 20 20" StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="DispatcherUnexV2"   HostApplication="Applications\DispatcherUnexV2.xml" ServiceName="DispatcherUnexV2" DisplayName="1 - DispatcherUnexV2" Description="Dispatcher para UnexV2."                         FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$DispatcherUnexV2 20 20" StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />
		<WinService x:Key="Scheduler"          HostApplication="Applications\Scheduler.xml"        ServiceName="Scheduler"        DisplayName="2 - Scheduler"        Description="Servicio de scheduling de tareas."               FailureRunCommand="C:\Program Files\Mapas y Sistemas\Urbetrack.Express\Urbetrack.Notifier.exe Urbetrack.Express$Scheduler 20 20"        StartMode="Automatic" ServiceAccount="NetworkService" FirstFailureAction="{StaticResource restartServiceAction}" SecondFailureAction="{StaticResource restartServiceAction}" SubsequentFailuresAction="{StaticResource restartServiceAction}" ResetFailCounterAfter="86400" />


	</WinServiceGroup>
</Application>